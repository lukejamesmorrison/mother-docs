<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Intergrid Message Service | Mother Docs</title><meta name="description" content="Documentation for Mother OS and Mother Core">
    <link rel="preload" href="/mother-docs/assets/style-Bkc_s6_e.css" as="style"><link rel="stylesheet" href="/mother-docs/assets/style-Bkc_s6_e.css">
    <link rel="modulepreload" href="/mother-docs/assets/app-BVsDFP5k.js"><link rel="modulepreload" href="/mother-docs/assets/IntergridMessageService.html-ClVAMaC7.js">
    <link rel="prefetch" href="/mother-docs/assets/PoweredByMother.html-BlUbuDuM.js" as="script"><link rel="prefetch" href="/mother-docs/assets/index.html-O_oZm-0B.js" as="script"><link rel="prefetch" href="/mother-docs/assets/index.html-DbQAj2ew.js" as="script"><link rel="prefetch" href="/mother-docs/assets/CommandCheatsheet.html-BV-zjEkl.js" as="script"><link rel="prefetch" href="/mother-docs/assets/CommandLineInterface.html-lvyI7kG1.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Compatibility.html-CRO7B3SE.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Configuration.html-Bs8sTybA.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Examples.html-xMRqTtE0.js" as="script"><link rel="prefetch" href="/mother-docs/assets/IngameScript.html-Bx2Q-WOQ.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Installation.html-D7KTqFG8.js" as="script"><link rel="prefetch" href="/mother-docs/assets/UpgradeGuide.html-TLSxo-Rk.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Modules.html-D63GC0P6.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ActivityMonitor.html-D839dLlk.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Almanac.html-Cvwa0Uwu.js" as="script"><link rel="prefetch" href="/mother-docs/assets/BlockCatalogue.html-B98-AL9B.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Clock.html-CrOHQ16q.js" as="script"><link rel="prefetch" href="/mother-docs/assets/CommandBus.html-RFFJoPOI.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Configuration.html-DtaNLdRc.js" as="script"><link rel="prefetch" href="/mother-docs/assets/CoreModules.html-KxvojN7-.js" as="script"><link rel="prefetch" href="/mother-docs/assets/EventBus.html-8ZgWNwQT.js" as="script"><link rel="prefetch" href="/mother-docs/assets/LocalStorage.html-PJRiWyzd.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ExtensionModules.html-s06JcsTK.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ArchitectureOverview.html-B-Z8uqaa.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Installation.html-DwiOWNPP.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ManagingScriptSize.html-oAL6T6Bs.js" as="script"><link rel="prefetch" href="/mother-docs/assets/UpgradeGuide.html-BimmVSqo.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ColorHelper.html-CHPpcju9.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Geometry.html-Be4hCQG8.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Serializer.html-BWlDai9H.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ActivityMonitor.html-Cc_UIshq.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Almanac.html-Bw6tGHl3.js" as="script"><link rel="prefetch" href="/mother-docs/assets/BlockCatalogue.html-QBtS7fPm.js" as="script"><link rel="prefetch" href="/mother-docs/assets/IntergridMessageService.html-vJTUBsg7.js" as="script"><link rel="prefetch" href="/mother-docs/assets/LocalStorage.html-C7_Oy5TS.js" as="script"><link rel="prefetch" href="/mother-docs/assets/Security.html-DdK59EyT.js" as="script"><link rel="prefetch" href="/mother-docs/assets/AirVentModule.html-5PfkVcej.js" as="script"><link rel="prefetch" href="/mother-docs/assets/BatteryModule.html-1z82vtNO.js" as="script"><link rel="prefetch" href="/mother-docs/assets/CockpitModule.html-s2WItHwZ.js" as="script"><link rel="prefetch" href="/mother-docs/assets/CommunicationModule.html-C6vTDN_G.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ConnectorModule.html-DCCGtPpt.js" as="script"><link rel="prefetch" href="/mother-docs/assets/DisplayModule.html-Dmuvsx_V.js" as="script"><link rel="prefetch" href="/mother-docs/assets/DockingModule.html-XLWJ4c-S.js" as="script"><link rel="prefetch" href="/mother-docs/assets/DoorModule.html-CM6nc4m5.js" as="script"><link rel="prefetch" href="/mother-docs/assets/FlightControlModule.html-BwVCjw02.js" as="script"><link rel="prefetch" href="/mother-docs/assets/FlightPlanningModule.html-BMErBk63.js" as="script"><link rel="prefetch" href="/mother-docs/assets/GasTankModule.html-Cmw5oMkq.js" as="script"><link rel="prefetch" href="/mother-docs/assets/GyroscopeModule.html-BK4AjHSA.js" as="script"><link rel="prefetch" href="/mother-docs/assets/HingeModule.html-B0LQPmkK.js" as="script"><link rel="prefetch" href="/mother-docs/assets/LandingGearModule.html-MpI3opRp.js" as="script"><link rel="prefetch" href="/mother-docs/assets/LightModule.html-5zTQWS4f.js" as="script"><link rel="prefetch" href="/mother-docs/assets/PistonModule.html-scyQRHnM.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ProgrammableBlockModule.html-JMBlGduY.js" as="script"><link rel="prefetch" href="/mother-docs/assets/RotorModule.html-D8dg6YnN.js" as="script"><link rel="prefetch" href="/mother-docs/assets/SensorModule.html-_75Ik0xa.js" as="script"><link rel="prefetch" href="/mother-docs/assets/SoundBlockModule.html-BW-O0Vpr.js" as="script"><link rel="prefetch" href="/mother-docs/assets/TerminalBlockModule.html-ITAtyZEc.js" as="script"><link rel="prefetch" href="/mother-docs/assets/ThrusterModule.html-BSykV1yW.js" as="script"><link rel="prefetch" href="/mother-docs/assets/TimerBlockModule.html-BXHihse4.js" as="script"><link rel="prefetch" href="/mother-docs/assets/404.html-PX0DcEfK.js" as="script"><link rel="prefetch" href="/mother-docs/assets/mermaid.esm.min-DJrDg-Am.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/mother-docs/"><img class="vp-site-logo" src="/mother-docs/images/logo-512x512.png" alt="Mother Docs"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Mother Docs</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://buymeacoffee.com/agentluke" aria-label="Buy me a Coffee" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Buy me a Coffee<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://steamcommunity.com/workshop/filedetails/?id=3411507973" aria-label="Steam Workshop" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Steam Workshop<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://discord.gg/PrrmBujmXQ" aria-label="Discord" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Discord<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Docs"><span class="title">Docs</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Docs"><span class="title">Docs</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/mother-docs/IngameScript/IngameScript.html" aria-label="Mother OS (Ingame Script)"><!--[--><!--[--><!--]--><!--]-->Mother OS (Ingame Script)<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://buymeacoffee.com/agentluke" aria-label="Buy me a Coffee" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Buy me a Coffee<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://steamcommunity.com/workshop/filedetails/?id=3411507973" aria-label="Steam Workshop" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Steam Workshop<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://discord.gg/PrrmBujmXQ" aria-label="Discord" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Discord<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Docs"><span class="title">Docs</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Docs"><span class="title">Docs</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/mother-docs/IngameScript/IngameScript.html" aria-label="Mother OS (Ingame Script)"><!--[--><!--[--><!--]--><!--]-->Mother OS (Ingame Script)<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/mother-docs/IngameScript/IngameScript.html" aria-label="Mother OS (Ingame Script)"><!--[--><!--[--><!--]--><!--]-->Mother OS (Ingame Script)<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item collapsible">Getting Started <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/UpgradeGuide.html" aria-label="Upgrade Guide"><!--[--><!--[--><!--]--><!--]-->Upgrade Guide<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Installation.html" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/CommandLineInterface.html" aria-label="Command Line Interface (CLI)"><!--[--><!--[--><!--]--><!--]-->Command Line Interface (CLI)<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Configuration.html" aria-label="Configuration"><!--[--><!--[--><!--]--><!--]-->Configuration<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Modules.html" aria-label="Modules"><!--[--><!--[--><!--]--><!--]-->Modules<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item collapsible">Core Modules <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Core/ActivityMonitor.html" aria-label="Activity Monitor"><!--[--><!--[--><!--]--><!--]-->Activity Monitor<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Core/Almanac.html" aria-label="Almanac"><!--[--><!--[--><!--]--><!--]-->Almanac<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Core/BlockCatalogue.html" aria-label="Block Catalogue"><!--[--><!--[--><!--]--><!--]-->Block Catalogue<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Core/LocalStorage.html" aria-label="Local Storage"><!--[--><!--[--><!--]--><!--]-->Local Storage<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Core/Security.html" aria-label="Security"><!--[--><!--[--><!--]--><!--]-->Security<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Core/IntergridMessageService.html" aria-label="Intergrid Message Service"><!--[--><!--[--><!--]--><!--]-->Intergrid Message Service<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item collapsible">Extension Modules <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/AirVentModule.html" aria-label="Air Vent Module"><!--[--><!--[--><!--]--><!--]-->Air Vent Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/BatteryModule.html" aria-label="Battery Module"><!--[--><!--[--><!--]--><!--]-->Battery Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/TerminalBlockModule.html" aria-label="Terminal Block Module"><!--[--><!--[--><!--]--><!--]-->Terminal Block Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/CockpitModule.html" aria-label="Cockpit Module"><!--[--><!--[--><!--]--><!--]-->Cockpit Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/ConnectorModule.html" aria-label="Connector Module"><!--[--><!--[--><!--]--><!--]-->Connector Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/DisplayModule.html" aria-label="Display Module"><!--[--><!--[--><!--]--><!--]-->Display Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/DockingModule.html" aria-label="Docking Module"><!--[--><!--[--><!--]--><!--]-->Docking Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/DoorModule.html" aria-label="Door Module"><!--[--><!--[--><!--]--><!--]-->Door Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/FlightControlModule.html" aria-label="Flight Control Module"><!--[--><!--[--><!--]--><!--]-->Flight Control Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/GasTankModule.html" aria-label="Gas Tank Module"><!--[--><!--[--><!--]--><!--]-->Gas Tank Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/GyroscopeModule.html" aria-label="Gyroscope Module"><!--[--><!--[--><!--]--><!--]-->Gyroscope Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/HingeModule.html" aria-label="Hinge Module"><!--[--><!--[--><!--]--><!--]-->Hinge Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/LandingGearModule.html" aria-label="Landing Gear Module"><!--[--><!--[--><!--]--><!--]-->Landing Gear Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/LightModule.html" aria-label="Light Module"><!--[--><!--[--><!--]--><!--]-->Light Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/FlightPlanningModule.html" aria-label="Flight Planning Module"><!--[--><!--[--><!--]--><!--]-->Flight Planning Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/PistonModule.html" aria-label="Piston Module"><!--[--><!--[--><!--]--><!--]-->Piston Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/ProgrammableBlockModule.html" aria-label="Programmable Block Module"><!--[--><!--[--><!--]--><!--]-->Programmable Block Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/RotorModule.html" aria-label="Rotor Module"><!--[--><!--[--><!--]--><!--]-->Rotor Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/SensorModule.html" aria-label="Sensor Module"><!--[--><!--[--><!--]--><!--]-->Sensor Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/SoundBlockModule.html" aria-label="Sound Block Module"><!--[--><!--[--><!--]--><!--]-->Sound Block Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/ThrusterModule.html" aria-label="Thruster Module"><!--[--><!--[--><!--]--><!--]-->Thruster Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Modules/Extension/TimerBlockModule.html" aria-label="Timer Block Module"><!--[--><!--[--><!--]--><!--]-->Timer Block Module<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/mother-docs/IngameScript/CommandCheatsheet.html" aria-label="Command Cheatsheet"><!--[--><!--[--><!--]--><!--]-->Command Cheatsheet<!--[--><!--[--><span class="arrow right"></span><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Compatibility.html" aria-label="Compatibility"><!--[--><!--[--><!--]--><!--]-->Compatibility<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mother-docs/IngameScript/Examples.html" aria-label="Examples"><!--[--><!--[--><!--]--><!--]-->Examples<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/mother-docs/PoweredByMother.html" aria-label="Powered By Mother"><!--[--><!--[--><!--]--><!--]-->Powered By Mother<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="intergrid-message-service" tabindex="-1"><a class="header-anchor" href="#intergrid-message-service"><span>Intergrid Message Service</span></a></h1><p>Mother uses a Request/Response pattern for intergrid communication. Every instance of Mother Core uses this system to share information and enable remote command execution.</p><nav class="table-of-contents"><ul><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#request" class="router-link-active router-link-exact-active">Request</a><ul><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#the-request-object" class="router-link-active router-link-exact-active">The Request Object</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#sending-a-request" class="router-link-active router-link-exact-active">Sending a Request</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#open-broadcast" class="router-link-active router-link-exact-active">Open Broadcast</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#direct-broadcast" class="router-link-active router-link-exact-active">Direct Broadcast</a></li></ul></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#response" class="router-link-active router-link-exact-active">Response</a><ul><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#the-response-object" class="router-link-active router-link-exact-active">The Response Object</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#handing-a-response" class="router-link-active router-link-exact-active">Handing A Response</a></li></ul></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#routes" class="router-link-active router-link-exact-active">Routes</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#intergrid-communication-service" class="router-link-active router-link-exact-active">Intergrid Communication Service</a><ul><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#sending-open-broadcast" class="router-link-active router-link-exact-active">Sending Open Broadcast</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#sending-a-direct-message" class="router-link-active router-link-exact-active">Sending a direct message</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#sending-encrypted-messages" class="router-link-active router-link-exact-active">Sending Encrypted Messages</a></li><li><a aria-current="page" href="/mother-docs/Framework/Developer/CoreModules/IntergridMessageService.html#using-channels" class="router-link-active router-link-exact-active">Using Channels</a></li></ul></li></ul></nav><h2 id="request" tabindex="-1"><a class="header-anchor" href="#request"><span>Request</span></a></h2><h3 id="the-request-object" tabindex="-1"><a class="header-anchor" href="#the-request-object"><span>The Request Object</span></a></h3><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// show how to create a request object with custom body and headers.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="sending-a-request" tabindex="-1"><a class="header-anchor" href="#sending-a-request"><span>Sending a Request</span></a></h3><h3 id="open-broadcast" tabindex="-1"><a class="header-anchor" href="#open-broadcast"><span>Open Broadcast</span></a></h3><p>Open broadcasts go to all grids on the antenna network. This is most appropriate for public channels and 1-to-many interactions.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// show how to send an open broadcast request and manage the response</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="IntergridMessageService.cs"><span>IntergridMessageService.cs</span></div><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SendLifeSupportInformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// get h2 levels</span></span>
<span class="line">    <span class="token comment">// get o2 levels</span></span>
<span class="line">    <span class="token comment">// get power levels</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// create request with custom body</span></span>
<span class="line">    <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;h2&quot;</span><span class="token punctuation">,</span> h2Level <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;o2&quot;</span><span class="token punctuation">,</span> o2Level <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;power&quot;</span><span class="token punctuation">,</span> powerLevel <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token function">CreateRequest</span><span class="token punctuation">(</span>requestBody<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// SendOpenBroadcastRequest(request, OnLifeSupportResponse);</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="direct-broadcast" tabindex="-1"><a class="header-anchor" href="#direct-broadcast"><span>Direct Broadcast</span></a></h3><p>Direct broadcasts go to a specific grid on the antenna network. This is most appropriate for private channels and 1-to-1 interactions.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// show how to send a direct broadcast request and manage the response</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="response" tabindex="-1"><a class="header-anchor" href="#response"><span>Response</span></a></h2><h3 id="the-response-object" tabindex="-1"><a class="header-anchor" href="#the-response-object"><span>The Response Object</span></a></h3><h4 id="response-types" tabindex="-1"><a class="header-anchor" href="#response-types"><span>Response Types</span></a></h4><h3 id="handing-a-response" tabindex="-1"><a class="header-anchor" href="#handing-a-response"><span>Handing A Response</span></a></h3><h2 id="routes" tabindex="-1"><a class="header-anchor" href="#routes"><span>Routes</span></a></h2><hr><h2 id="intergrid-communication-service" tabindex="-1"><a class="header-anchor" href="#intergrid-communication-service"><span>Intergrid Communication Service</span></a></h2><p>Sending messages between grids is a core capability of Mother, and this can be done in a variety of ways depending on your level of security.</p><h3 id="sending-open-broadcast" tabindex="-1"><a class="header-anchor" href="#sending-open-broadcast"><span>Sending Open Broadcast</span></a></h3><p>The most common case is sending an open broadcast to other grids. This is most appropriate for public channels. An open broadcast will be sent to all grids on the antenna network channel.</p><p>Let&#39;s look at how we <code>ping</code> other grids:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token preprocessor property"># IntergridMessageService.cs</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Vector3D</span> currentPosition <span class="token operator">=</span> Mother<span class="token punctuation">.</span>Grid<span class="token punctuation">.</span><span class="token function">GetPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> requestHeader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;OriginId&quot;</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Mother<span class="token punctuation">.</span>Id</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;OriginName&quot;</span><span class="token punctuation">,</span> Mother<span class="token punctuation">.</span>Grid<span class="token punctuation">.</span>CustomName <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;Path&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ping&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">currentPosition<span class="token punctuation">.</span>X</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">currentPosition<span class="token punctuation">.</span>Y</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span> <span class="token string">&quot;z&quot;</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">currentPosition<span class="token punctuation">.</span>Z</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Request</span><span class="token punctuation">(</span>requestBody<span class="token punctuation">,</span> requestHeader<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">SendOpenBroadcastRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> OnPingResponse<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>First we create the Request with the relevant payload - Body, and Header. Then we send it via open broadcast. Finally, we can set a callback to be run when a Response has been received to our outgoing message.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"></span>
<span class="line"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnPingResponse</span><span class="token punctuation">(</span><span class="token class-name">Response</span> response<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Update Record in Almanac</span></span>
<span class="line">    <span class="token class-name">AlmanacRecord</span> almanacRecord <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AlmanacRecord</span><span class="token punctuation">(</span></span>
<span class="line">        response<span class="token punctuation">.</span><span class="token function">BString</span><span class="token punctuation">(</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;grid&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3D</span><span class="token punctuation">(</span></span>
<span class="line">            response<span class="token punctuation">.</span><span class="token function">BDouble</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            response<span class="token punctuation">.</span><span class="token function">BDouble</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            response<span class="token punctuation">.</span><span class="token function">BDouble</span><span class="token punctuation">(</span><span class="token string">&quot;z&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    almanacRecord<span class="token punctuation">.</span><span class="token function">AddNickname</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">HString</span><span class="token punctuation">(</span><span class="token string">&quot;OriginName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    Mother<span class="token punctuation">.</span>Almanac<span class="token punctuation">.</span><span class="token function">AddRecord</span><span class="token punctuation">(</span>almanacRecord<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sending-a-direct-message" tabindex="-1"><a class="header-anchor" href="#sending-a-direct-message"><span>Sending a direct message</span></a></h3><p>If you would like to send a direct message to another grid, this can be done via unicast. This is used when sending a remote command to another grid:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token preprocessor property"># IntergridMessageService.cs</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SendRequestFromRoutine</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> target<span class="token punctuation">,</span> <span class="token class-name">TerminalRoutine</span> routine<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// get target grid from Almanac</span></span>
<span class="line">    <span class="token class-name">Grid</span> grid <span class="token operator">=</span> Mother<span class="token punctuation">.</span>Almanac<span class="token punctuation">.</span><span class="token function">GetGridByIdentifier</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>grid <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token function">BuildCommandRequest</span><span class="token punctuation">(</span>routine<span class="token punctuation">.</span>UnpackedRoutineString<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        request<span class="token punctuation">.</span><span class="token function">To</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token function">SendUnicastRequest</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sending-encrypted-messages" tabindex="-1"><a class="header-anchor" href="#sending-encrypted-messages"><span>Sending Encrypted Messages</span></a></h3><p>When playing in a PvP environment, it quickly becomes important to secure your communications so that other players cannot remotely command your grids running Mother. To do this, we can use Mother&#39;s built in encryption. Let&#39;s take a look at how we are using this during message transmission:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token preprocessor property"># IntergridMessageService.cs</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SendUnicastRequest</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">long</span></span> TargetId<span class="token punctuation">,</span> <span class="token class-name">IntergridMessageObject</span> message<span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>IntergridMessageObject<span class="token punctuation">&gt;</span></span> onResponse<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Register the message callback</span></span>
<span class="line">    activeRequests<span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">message<span class="token punctuation">.</span>Header<span class="token punctuation">[</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">]</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> onResponse<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// encrypt the message if necessary</span></span>
<span class="line">    <span class="token class-name"><span class="token keyword">string</span></span> outgoingMessage <span class="token operator">=</span> <span class="token return-type class-name">Encryption <span class="token punctuation">?</span></span></span>
<span class="line">        Mother<span class="token punctuation">.</span>Security<span class="token punctuation">.</span><span class="token function">Encrypt</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">Serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span></span>
<span class="line">        message<span class="token punctuation">.</span><span class="token function">Serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Send the message via unicast over the &quot;default&quot;</span></span>
<span class="line">    <span class="token class-name"><span class="token keyword">bool</span></span> success <span class="token operator">=</span> Mother<span class="token punctuation">.</span>IGC<span class="token punctuation">.</span><span class="token function">SendUnicastMessage</span><span class="token punctuation">(</span>TargetId<span class="token punctuation">,</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span> outgoingMessage<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>success<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        Mother<span class="token punctuation">.</span>EventBus<span class="token punctuation">.</span><span class="token function">Emit</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">RequestFailedEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        Mother<span class="token punctuation">.</span>EventBus<span class="token punctuation">.</span><span class="token function">Emit</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">RequestSentEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="using-channels" tabindex="-1"><a class="header-anchor" href="#using-channels"><span>Using Channels</span></a></h3></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2025-04-17T23:39:35.000Z" data-allow-mismatch>4/17/25, 11:39 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: lukejamesmorrison@gmail.com">Luke Morrison</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/mother-docs/assets/app-BVsDFP5k.js" defer></script>
  </body>
</html>
