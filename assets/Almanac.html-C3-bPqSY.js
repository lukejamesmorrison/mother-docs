import{_ as i,c as p,a as n,d as r,b as e,w as o,e as a,r as c,o as d}from"./app-BmeHbfuL.js";const u={},m={class:"table-of-contents"};function k(v,s){const t=c("router-link"),l=c("RouteLink");return d(),p("div",null,[s[7]||(s[7]=n("h1",{id:"almanac",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#almanac"},[n("span",null,"Almanac")])],-1)),n("nav",m,[n("ul",null,[n("li",null,[e(t,{to:"#records"},{default:o(()=>s[0]||(s[0]=[a("Records")])),_:1,__:[0]}),n("ul",null,[n("li",null,[e(t,{to:"#creating-a-record"},{default:o(()=>s[1]||(s[1]=[a("Creating a Record")])),_:1,__:[1]})]),n("li",null,[e(t,{to:"#removing-a-record"},{default:o(()=>s[2]||(s[2]=[a("Removing a Record")])),_:1,__:[2]})]),n("li",null,[e(t,{to:"#storing-records-across-recompiles"},{default:o(()=>s[3]||(s[3]=[a("Storing Records across Recompiles")])),_:1,__:[3]})])])])])]),s[8]||(s[8]=r(`<p>The Almanac manages a list of records that represent entities in the game world. These records can be used to track the location of entities, communicate with them, and display them on map displays. Since each instance of Mother is unique to its Programmable Block, we use the block&#39;s <code>EntityId</code> as the unique identifier.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// via the Program instance</span></span>
<span class="line"><span class="token class-name"><span class="token keyword">long</span></span> myId <span class="token operator">=</span> Program<span class="token punctuation">.</span>Me<span class="token punctuation">.</span>EntityId<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// or via Mother (recommended)</span></span>
<span class="line"><span class="token class-name"><span class="token keyword">long</span></span> myId <span class="token operator">=</span> Mother<span class="token punctuation">.</span>Id<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The almanac currently supports the following Entity types:</p><ul><li><code>Grid</code></li><li><code>Waypoint</code></li></ul><h2 id="records" tabindex="-1"><a class="header-anchor" href="#records"><span>Records</span></a></h2><div class="code-block-with-title"><div class="code-block-title-bar" data-title="DockingModule.cs"><span>DockingModule.cs</span></div><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Get a record by name</span></span>
<span class="line">AlmanacRecord <span class="token keyword">record</span> <span class="token operator">=</span> Almanac<span class="token punctuation">.</span><span class="token function">GetRecord</span><span class="token punctuation">(</span><span class="token string">&quot;Mothership&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment">// Get a record by ID (the EntityId of the programmable block)</span></span>
<span class="line">AlmanacRecord <span class="token keyword">record</span> <span class="token operator">=</span> Almanac<span class="token punctuation">.</span><span class="token function">GetRecord</span><span class="token punctuation">(</span><span class="token number">12345678901234567890</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="creating-a-record" tabindex="-1"><a class="header-anchor" href="#creating-a-record"><span>Creating a Record</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="DockingModule.cs"><span>DockingModule.cs</span></div><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Create record</span></span>
<span class="line">TopSecretBase <span class="token keyword">record</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AlmanacRecord</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token string">&quot;TopSecretBase&quot;</span><span class="token punctuation">,</span>                            <span class="token comment">// name</span></span>
<span class="line">    <span class="token string">&quot;Grid&quot;</span><span class="token punctuation">,</span>                                     <span class="token comment">// entity type</span></span>
<span class="line">    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3D</span><span class="token punctuation">(</span><span class="token number">1234.23</span><span class="token punctuation">,</span> <span class="token number">5678.72</span><span class="token punctuation">,</span> <span class="token number">24155.22</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">// position</span></span>
<span class="line">    <span class="token number">0</span>                                           <span class="token comment">// speed (optional)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Add to the almanac</span></span>
<span class="line">Mother<span class="token punctuation">.</span>Almanac<span class="token punctuation">.</span><span class="token function">AddRecord</span><span class="token punctuation">(</span><span class="token keyword">record</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>When records are added to the Almanac, they will automatically appear on map displays and be accessible for remote communication. Mother adds and updates records frequently via a <em>ping</em>.</p><h3 id="removing-a-record" tabindex="-1"><a class="header-anchor" href="#removing-a-record"><span>Removing a Record</span></a></h3><p>To remove a record, you can simply access the <code>Records</code> list and remove the record you want to delete.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="DockingModule.cs"><span>DockingModule.cs</span></div><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Get the record</span></span>
<span class="line">AlmanacRecord <span class="token keyword">record</span> <span class="token operator">=</span> Almanac<span class="token punctuation">.</span><span class="token function">GetRecord</span><span class="token punctuation">(</span><span class="token string">&quot;Mothership&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Remove the record from the almanac</span></span>
<span class="line">Almanac<span class="token punctuation">.</span>Records<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token keyword">record</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="storing-records-across-recompiles" tabindex="-1"><a class="header-anchor" href="#storing-records-across-recompiles"><span>Storing Records across Recompiles</span></a></h3>`,13)),n("p",null,[s[5]||(s[5]=a("When a programmable block recompiles, scripts are reloaded and all state is lost by default. To prevent this, the Almanac stores records in ")),e(l,{to:"/Framework/Developer/CoreModules/LocalStorage.html"},{default:o(()=>s[4]||(s[4]=[a("Local Storage")])),_:1,__:[4]}),s[6]||(s[6]=a(" to make it accessible after recompile, error or a game reboot."))])])}const b=i(u,[["render",k],["__file","Almanac.html.vue"]]),g=JSON.parse('{"path":"/Framework/Developer/CoreModules/Almanac.html","title":"Almanac","lang":"en-US","frontmatter":{},"git":{"updatedTime":1744056546000,"contributors":[{"name":"Luke Morrison","username":"","email":"lukejamesmorrison@gmail.com","commits":2}],"changelog":[{"hash":"f894df28734323dfee730c0dd29c28fed9ffa424","time":1744056546000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"v0.2.10 Update"},{"hash":"7c2fb0716f1b3a7b9765a5e6872cb915206257b5","time":1742428082000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"Initial commit"}]},"filePathRelative":"Framework/Developer/CoreModules/Almanac.md"}');export{b as comp,g as data};
