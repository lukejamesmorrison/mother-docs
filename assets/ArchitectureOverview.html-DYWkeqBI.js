import{_ as c,c as u,a as s,b as e,d as r,e as a,w as t,f as p,g as d}from"./app-BgP5_kDJ.js";const m={},k={class:"table-of-contents"};function h(g,n){const o=p("router-link"),l=p("RouteLink"),i=p("Mermaid");return d(),u("div",null,[n[35]||(n[35]=s("h1",{id:"architecture-overview",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#architecture-overview"},[s("span",null,"Architecture Overview")])],-1)),n[36]||(n[36]=s("div",{class:"hint-container warning"},[s("p",{class:"hint-container-title"},"Warning"),s("p",null,[a("Mother requires a "),s("strong",null,"Remote Control block"),a(" to function. This allows us to leverage positional and environmental data across our modules easily.")])],-1)),s("nav",k,[s("ul",null,[s("li",null,[e(o,{to:"#entity-diagram"},{default:t(()=>[...n[0]||(n[0]=[a("Entity Diagram",-1)])]),_:1})]),s("li",null,[e(o,{to:"#program-lifecycle"},{default:t(()=>[...n[1]||(n[1]=[a("Program Lifecycle",-1)])]),_:1}),s("ul",null,[s("li",null,[e(o,{to:"#setting-up-mother"},{default:t(()=>[...n[2]||(n[2]=[a("Setting up Mother",-1)])]),_:1})]),s("li",null,[e(o,{to:"#booting-the-script"},{default:t(()=>[...n[3]||(n[3]=[a("Booting the Script",-1)])]),_:1})]),s("li",null,[e(o,{to:"#running-the-script-each-cycle"},{default:t(()=>[...n[4]||(n[4]=[a("Running the Script Each Cycle",-1)])]),_:1})])])]),s("li",null,[e(o,{to:"#command-lifecycle"},{default:t(()=>[...n[5]||(n[5]=[a("Command Lifecycle",-1)])]),_:1})]),s("li",null,[e(o,{to:"#mother-instance"},{default:t(()=>[...n[6]||(n[6]=[a("Mother Instance",-1)])]),_:1}),s("ul",null,[s("li",null,[e(o,{to:"#system-attributes"},{default:t(()=>[...n[7]||(n[7]=[a("System Attributes",-1)])]),_:1})])])])])]),n[37]||(n[37]=s("h2",{id:"entity-diagram",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#entity-diagram"},[s("span",null,"Entity Diagram")])],-1)),s("p",null,[n[9]||(n[9]=a("Let's look at the entity diagram for ",-1)),e(l,{to:"/IngameScript/IngameScript.html"},{default:t(()=>[...n[8]||(n[8]=[a("Mother OS",-1)])]),_:1}),n[10]||(n[10]=a(" which is the same as your custom script. This shows the relationship between Mother OS, Mother Core, and the Program. The Program is the entry point for all scripts.",-1))]),e(i,{id:"mermaid-20",code:"eJytlE1v4jAQhu/8CisSymVJtNue2Bap0G4VbaOipjdUrUwyJBaOjWynFG3572s7HwVKWZqSQxRPZsbPjF9Pt/u3gxBhRPWR+ULInVG+jDMslFubrDmBGS6oegCWgAChf7pA5651WH8rQ1UGOZg/UyzBNcZ1Z93tdlKBFxl6uLNeIddu4j6aXGCUCZhdun5uTb2Ex9IPWIpziGJBFmpr4WUqpy6SakXh0o055aKPphTH859IwYvqJRBzgRXhrI8YZ+AOyq3QfXTh48FTrzd4vYaFLkAizl4rkBEXsMFllhOnCjQL5wntBo4F1xXlE6f6cJ46W5XZgBHPF1xCgvjsFQU3LwqY1GghTwqqd9i16BzbEHuSGHMT/7aoQu1rw4y83gAFjf+W7+7uH/laZ1lMywO0WOU/2QgjIQJi03Q0fGyMQ33+uySH6c0zCn98IIpfusuw5GLuX8MzUL4A4b+lkPo7zzFLhoVsoZIqGOloqxOLu13BBuJZS8QrqjfBcQu+KvIItvOWbEPK4/kIK0x5WkALRJsANRkOouprtKOrRowHxHX3sCWuvfo99pKZ5yb8PnGOmEB1i5pM/phIVSds0aoyvKrUNEoPmLpTO7gbsGctYe9ImqnWrDb6s6jnE8fzvP+4vhdBNUtzPNXHWerpahzsUcLjsDbWc7jpTKbUQvZ9PyUqK6ZezHM/x3SJBejinv3w+ncvuvGXZE78SN/4KX/xNJPexivb6IWrW0GSKq+LFBYpqEvnj24TmzufO+cyib0KTRWV0cx2NNYKPB15EK4CpkCkmt8MtIKR2PJEK6ngi7UEt6NDdWyMxFPUYY7gEUROGKanoH+f71AxWr6R0hnSelpoqaLOP+r7BkI="}),n[38]||(n[38]=r(`<h2 id="program-lifecycle" tabindex="-1"><a class="header-anchor" href="#program-lifecycle"><span>Program Lifecycle</span></a></h2><h3 id="setting-up-mother" tabindex="-1"><a class="header-anchor" href="#setting-up-mother"><span>Setting up Mother</span></a></h3><p>To use Mother, we need to create a <code>Mother</code> instance in our <code>Program</code> class. This is done in the constructor. We then register any extension modules we want to use.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Program.cs"><span>Program.cs</span></div><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MyGridProgram</span></span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Mother</span> mother<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// Create Mother instance</span></span>
<span class="line">        mother <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Mother</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// Register Extension Modules</span></span>
<span class="line">        mother<span class="token punctuation">.</span><span class="token function">RegisterModules</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>IExtensionModule<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> </span>
<span class="line">            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RotorModule</span><span class="token punctuation">(</span>mother<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FlightControlModule</span><span class="token punctuation">(</span>mother<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MissileGuidanceModule</span><span class="token punctuation">(</span>mother<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token range operator">..</span><span class="token punctuation">.</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="hint-container important"><p class="hint-container-title">Important</p><p>Extension Modules must conform the the <code>IExtensionModule</code> interface. It is recommend that you use the <code>BaseExtensionModule</code> class as a base class to leverage the library of useful helpers.</p></div><h3 id="booting-the-script" tabindex="-1"><a class="header-anchor" href="#booting-the-script"><span>Booting the Script</span></a></h3><p>Mother boots automatically when the script compiles. Otherwise, the <code>Boot()</code> method can be called to force the boot process. Mother will boot all Core Modules, and then all Extension Modules in the order they were registered.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line">Mother<span class="token punctuation">.</span><span class="token function">Boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="running-the-script-each-cycle" tabindex="-1"><a class="header-anchor" href="#running-the-script-each-cycle"><span>Running the Script Each Cycle</span></a></h3>`,9)),s("p",null,[n[12]||(n[12]=a("The ",-1)),n[13]||(n[13]=s("code",null,"Run()",-1)),n[14]||(n[14]=a(" method is responsible for running all registered modules, managing communications, and executing scheduled actions. See the ",-1)),e(l,{to:"/Framework/Developer/CoreModules/Clock.html"},{default:t(()=>[...n[11]||(n[11]=[a("Clock",-1)])]),_:1}),n[15]||(n[15]=a(" for more information on scheduling and delaying actions. We ensure the Program calls this method within the ",-1)),n[16]||(n[16]=s("code",null,"Main()",-1)),n[17]||(n[17]=a(" method to delegate all further action to Mother.",-1))]),n[39]||(n[39]=r(`<div class="hint-container info"><p class="hint-container-title">Info</p><p>Mother runs at a default speed of <strong>~6 ticks/second</strong>, or <strong>every 0.166 seconds</strong> . This tolerance should be acceptable for most use cases. Each cycle, Mother&#39;s <code>Run()</code> method is called which will then run all registered modules.</p><p><strong>UpdateFrequency = UpdateFrequency.Update10</strong></p></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Program.cs"><span>Program.cs</span></div><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MyGridProgram</span></span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// The game will run this method every cycle</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> argument<span class="token punctuation">,</span> <span class="token class-name">UpdateType</span> updateType<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// So we delegate to Mother</span></span>
<span class="line">        Mother<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>argument<span class="token punctuation">,</span> updateType<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,2)),e(i,{id:"mermaid-58",code:"eJx9kMFqg0AQhu8+xUCxXgzENSmthbbRNCWHXhp7khw2cdBFXWV3bRqM715jayqS5DAwzAzzffy6XmkAjDPlwLEDMFSMGRoOGBsq0TCPw6ZqrdZ1TYsELWLw5+3pLPgo+RrQehmNng63fCOLxzkqFBnjCGURUoX+vsDfzQHc6n/2XLcvUsaTldqnCGOQSuQJjnYsVLFDiu/2oHleUc4yqljOHZBpvqu1duMCkh7Yb7E0NcEXLIpQmLDaClaoju4FXp5llIduKdcDuPUHd25cl0zJvXnehVxxsXsuyzevo86DJW8SiQQL31FKGuEKxRfb4lCBnBQm3mwxHV9QsK8oTHoKn23S1rjzeA28NN8mQ6p9ohLr4W5hX6BOzlB/AEiPtKY="}),n[40]||(n[40]=s("h2",{id:"command-lifecycle",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#command-lifecycle"},[s("span",null,"Command Lifecycle")])],-1)),n[41]||(n[41]=s("p",null,"Commands may be triggered via any one of the following methods:",-1)),s("table",null,[n[31]||(n[31]=s("thead",null,[s("tr",null,[s("th",null,"Method"),s("th",null,"Description")])],-1)),s("tbody",null,[n[26]||(n[26]=s("tr",null,[s("td",null,[s("strong",null,"Terminal")]),s("td",null,"Via the programmable block terminal.")],-1)),n[27]||(n[27]=s("tr",null,[s("td",null,[s("strong",null,"Toolbar Action")]),s("td",null,[a("Via a toolbar action using the programmable block's "),s("code",null,"Run"),a(" action.")])],-1)),n[28]||(n[28]=s("tr",null,[s("td",null,[s("strong",null,"Button")]),s("td",null,[a("Via a button on a control panel that triggers the programmable block's "),s("code",null,"Run"),a(" action.")])],-1)),n[29]||(n[29]=s("tr",null,[s("td",null,[s("strong",null,"Timer Block")]),s("td",null,[a("Via a timer block that triggers the programmable block's "),s("code",null,"Run"),a(" action.")])],-1)),n[30]||(n[30]=s("tr",null,[s("td",null,[s("strong",null,"Event Controller")]),s("td",null,[a("Via an event trigger which runs the programmable block's "),s("code",null,"Run"),a(" action.")])],-1)),s("tr",null,[n[21]||(n[21]=s("td",null,[s("strong",null,"Block Hooks")],-1)),s("td",null,[n[19]||(n[19]=a("Via a block's ",-1)),e(l,{to:"/Framework/Developer/CoreModules/BlockCatalogue.html#hooks"},{default:t(()=>[...n[18]||(n[18]=[a("hooks",-1)])]),_:1}),n[20]||(n[20]=a(" triggered by block state change.",-1))])]),s("tr",null,[n[25]||(n[25]=s("td",null,[s("strong",null,"Remote Message")],-1)),s("td",null,[n[23]||(n[23]=a("Via a message sent from another grid using the ",-1)),e(l,{to:"/Framework/Developer/CoreModules/IntergridMessageService.html"},{default:t(()=>[...n[22]||(n[22]=[a("Intergrid Message Service",-1)])]),_:1}),n[24]||(n[24]=a(".",-1))])])])]),s("p",null,[n[33]||(n[33]=a("When a command is trigger it is passed to the ",-1)),e(l,{to:"/Framework/Developer/CoreModules/CommandBus.html"},{default:t(()=>[...n[32]||(n[32]=[a("Command Bus",-1)])]),_:1}),n[34]||(n[34]=a(". The Command Bus then executes the command on the appropriate module.",-1))]),e(i,{id:"mermaid-138",code:"eJx1j8FuwjAMhu95Cl+qXoZ2zwFp3SrtMmmCJ3BTCyI1SUkcBEK8OyEtlKriFvv7bP8piosA0FazhPsLoOQ9GSollA0GKj9S8yquRSFEoEMkq+hH486jyTZGdjaahnwue/Ssle7RMvx3eCb/uVVe97yg384YtG0VwwL9uTZ29LXo10ey/H6gEhmMxWq9fvgStrEJKUZDwG5YM7iziGliCiVhEy2ooc7uxJI4RpRQn0hFppk5wlmC2mgGypfvygOsnrsqCZV32CoMr+L0m6f2m+50NDo3jBuQSg=="}),n[42]||(n[42]=r(`<h2 id="mother-instance" tabindex="-1"><a class="header-anchor" href="#mother-instance"><span>Mother Instance</span></a></h2><h3 id="system-attributes" tabindex="-1"><a class="header-anchor" href="#system-attributes"><span>System Attributes</span></a></h3><p>Mother makes most common <a href="https://github.com/malware-dev/MDK-SE/wiki/Sandbox.ModAPI.Ingame.MyGridProgram" target="_blank" rel="noopener noreferrer">Program</a> properties available to assist with common lookups.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MissileGuidanceModule.cs"><span>MissileGuidanceModule.cs</span></div><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// via Mother (recommended)</span></span>
<span class="line"><span class="token class-name">IMyCubeGrid</span> Grid <span class="token operator">=</span> Mother<span class="token punctuation">.</span>Grid</span>
<span class="line"><span class="token class-name">IMyGridTerminalSystem</span> GridTerminalSystem <span class="token operator">=</span> Mother<span class="token punctuation">.</span>GridTerminalSystem</span>
<span class="line"><span class="token class-name">IMyProgrammableBlock</span> ProgrammableBlock <span class="token operator">=</span> Mother<span class="token punctuation">.</span>ProgrammableBlock</span>
<span class="line"></span>
<span class="line"><span class="token comment">// via the Program instance</span></span>
<span class="line"><span class="token class-name">IMyCubeGrid</span> Grid <span class="token operator">=</span> Mother<span class="token punctuation">.</span>Program<span class="token punctuation">.</span>Me<span class="token punctuation">.</span>CubeGrid</span>
<span class="line"><span class="token class-name">IMyGridTerminalSystem</span> GridTerminalSystem <span class="token operator">=</span> Mother<span class="token punctuation">.</span>Program<span class="token punctuation">.</span>GridTerminalSystem</span>
<span class="line"><span class="token class-name">IMyProgrammableBlock</span> ProgrammableBlock <span class="token operator">=</span> Mother<span class="token punctuation">.</span>Program<span class="token punctuation">.</span>Me</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,4))])}const b=c(m,[["render",h]]),f=JSON.parse('{"path":"/Framework/Developer/GettingStarted/ArchitectureOverview.html","title":"Architecture Overview","lang":"en-US","frontmatter":{"prev":"/Framework/Developer/GettingStarted/Installation.md","next":"/Framework/Developer/GettingStarted/ManagingScriptSize.md"},"git":{"updatedTime":1759090324000,"contributors":[{"name":"Luke Morrison","username":"","email":"lukejamesmorrison@gmail.com","commits":8},{"name":"lukejamesmorrison","username":"lukejamesmorrison","email":"30843159+lukejamesmorrison@users.noreply.github.com","commits":3,"url":"https://github.com/lukejamesmorrison"}],"changelog":[{"hash":"a35e75652ef0f8a839721db64be2b1b0cf8d63e7","time":1759090324000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"1.0 Final"},{"hash":"e8e8d720c0875d70d346f493a15b46b9d55756cf","time":1755397935000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"Update links"},{"hash":"90ef559149c4e90132aa0f257d78148f56b9dfa6","time":1755006332000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"Updates to soyuz animation &#x26; svg"},{"hash":"effd9d96219e3b940efebaae7ff63d6eda576759","time":1754690910000,"email":"30843159+lukejamesmorrison@users.noreply.github.com","author":"Luke","message":"Major update to Core pages"},{"hash":"45c719ddd7d0ab590376c4296af561cba3f201d2","time":1754520614000,"email":"30843159+lukejamesmorrison@users.noreply.github.com","author":"Luke","message":"Improve Core documentation and update animations on home page"},{"hash":"656cfacdf436e6faca234cf77b83f77ed2c9c8d2","time":1751234971000,"email":"30843159+lukejamesmorrison@users.noreply.github.com","author":"Luke","message":"Finish first draft of framework documentation"},{"hash":"9fdbfc2d95d5a85f876d6496e1e2d1fb3196d285","time":1751221127000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"Framework updates"},{"hash":"15ee173564b47688d911d239bf1296182577deca","time":1744933175000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"Update docs"},{"hash":"db312309835110752ea2b209f7c3efbf6e7d9264","time":1744758309000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"dev initial commit"},{"hash":"f894df28734323dfee730c0dd29c28fed9ffa424","time":1744056546000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"v0.2.10 Update"},{"hash":"7c2fb0716f1b3a7b9765a5e6872cb915206257b5","time":1742428082000,"email":"lukejamesmorrison@gmail.com","author":"Luke Morrison","message":"Initial commit"}]},"filePathRelative":"Framework/Developer/GettingStarted/ArchitectureOverview.md"}');export{b as comp,f as data};
